PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> PREFIX p: <http://www.wikidata.org/prop/> PREFIX wdt: <http://www.wikidata.org/prop/direct/> PREFIX wd: <http://www.wikidata.org/entity/>  SELECT DISTINCT   ?item   (SAMPLE (?titleL) AS ?title)   (group_concat(distinct ?creatorL ; separator = ", ") as ?creator)   (group_concat(distinct ?genreL ; separator = ", ") as ?genre)   (group_concat(distinct ?placeL ; separator = ", ") as ?place)   (group_concat(distinct ?arr ; separator = ", ") as ?arrondissement)   (SAMPLE (?img) AS ?image)   (SAMPLE (?coord) AS ?coordinates) WHERE {   SELECT ?item ?titleL ?creatorL ?genreL ?placeL ?arr ?img ?coord   WHERE {          {              ?item wdt:P131 wd:Q90 .     } UNION {              ?item wdt:P131/wdt:P131* wd:Q90 .     }          ?item wdt:P136 wd:Q557141 .              OPTIONAL {       ?item wdt:P170 ?c.       ?c rdfs:label ?creatorL filter (lang(?creatorL) = "fr") .     }              OPTIONAL {       {         ?item wdt:P136 ?g .         FILTER ( STR(?g) != 'http://www.wikidata.org/entity/Q557141')       } UNION {         ?item wdt:P31 ?g .       }       ?g rdfs:label ?genreL filter (lang(?genreL) = "fr") .     }              OPTIONAL {       ?item wdt:P276 ?p .       ?p rdfs:label ?placeL filter (lang(?placeL) = "fr") .     }              OPTIONAL {       ?item wdt:P131 ?a .       ?a wdt:P131 wd:Q90 .       ?a rdfs:label ?arrL filter (lang(?arrL) = "fr").       BIND(REPLACE(?arrL, '^([0-9]+).*$', "$1", "si") AS ?arr)     } 